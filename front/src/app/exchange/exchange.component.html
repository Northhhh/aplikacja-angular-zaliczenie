<div class="p-3">
    <app-navigation></app-navigation>

    <div *ngIf="rates == null" class="text-center">
        <h2 class="mt-3 mb-3">There is no data for currency {{currency}}</h2>
        <button (click)="syncRates()" class="btn btn-danger">Synchronize</button>
    </div>

    <div *ngIf="rates">
        <ul class="nav nav-tabs mt-3" id="myTab" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="daily-tab" data-bs-toggle="tab" data-bs-target="#daily"
                    type="button" role="tab" aria-controls="daily" aria-selected="true">Daily</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="monthly-tab" data-bs-toggle="tab" data-bs-target="#monthly" type="button"
                    role="tab" aria-controls="monthly" aria-selected="false">Monthly</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="quaterly-tab" data-bs-toggle="tab" data-bs-target="#quaterly" type="button"
                    role="tab" aria-controls="quaterly" aria-selected="false">Quaterly</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="yearly-tab" data-bs-toggle="tab" data-bs-target="#yearly" type="button"
                    role="tab" aria-controls="yearly" aria-selected="false">Yearly</button>
            </li>
        </ul>

        <!-- Tab panes -->
        <div class="tab-content mt-3">
            <div class="tab-pane active" id="daily" role="tabpanel" aria-labelledby="daily-tab" tabindex="0">
                <h2 *ngIf="rates.daily">Last day ({{rates.daily[0].effective_date}})</h2>
                <table class="table table-striped table-hover" *ngIf="rates.daily">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Rate</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let rate of rates.daily">
                            <td>{{ rate.effective_date }}</td>
                            <td>{{ rate.rate }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="tab-pane" id="monthly" role="tabpanel" aria-labelledby="monthly-tab" tabindex="0">
                <h2 *ngIf="rates.monthly">Last month</h2>
                <table class="table table-striped table-hover" *ngIf="rates.monthly">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Rate</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let rate of rates.monthly">
                            <td>{{ rate.effective_date }}</td>
                            <td>{{ rate.rate }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="tab-pane" id="quaterly" role="tabpanel" aria-labelledby="quaterly-tab" tabindex="0">
                <h2 *ngIf="rates.quaterly">Last quater</h2>
                <table class="table table-striped table-hover" *ngIf="rates.quaterly">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Rate</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let rate of rates.quaterly">
                            <td>{{ rate.effective_date }}</td>
                            <td>{{ rate.rate }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="tab-pane" id="yearly" role="tabpanel" aria-labelledby="yearly-tab" tabindex="0">
                <h2 *ngIf="rates.yearly">Last year</h2>
                <table class="table table-striped table-hover" *ngIf="rates.yearly">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Rate</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let rate of rates.yearly">
                            <td>{{ rate.effective_date }}</td>
                            <td>{{ rate.rate }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>